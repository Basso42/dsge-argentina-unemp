function [lhs, rhs] = dynamic_resid(y, x, params, steady_state)
T = NaN(21, 1);
lhs = NaN(30, 1);
rhs = NaN(30, 1);
T(1) = y(32)^(-params(4));
T(2) = params(1)*y(69)/y(39);
T(3) = y(7)^params(3);
T(4) = params(21)*y(55)*T(3);
T(5) = y(33)^(1-params(3));
T(6) = params(15)/2;
T(7) = y(38)/y(8);
T(8) = 1-T(6)*(T(7)-1)^2;
T(9) = 1+y(38)*(3*y(38)/y(8)-4)/y(8);
T(10) = 1-y(68)/y(38);
T(11) = params(15)*y(73)*T(2)*y(89)*T(10);
T(12) = (y(68)/y(38))^2;
T(13) = y(66)*y(69)*params(1)*params(19)/y(39)/y(36);
T(14) = T(13)*y(71);
T(15) = params(19)/2*(y(41)-(steady_state(11)))^2;
T(16) = params(11)/(1+params(8))*y(44)^(1+params(8));
T(17) = y(12)^params(16);
T(18) = (steady_state(12))*(y(41)/(steady_state(11)))^params(18);
T(19) = (y(36)/(steady_state(6)))^params(17);
T(20) = T(18)*T(19);
T(21) = T(20)^(1-params(16));
lhs(1) = y(39);
rhs(1) = y(57)*T(1);
lhs(2) = T(2)*y(31);
rhs(2) = 1;
lhs(3) = y(45);
rhs(3) = y(35)-params(10)-params(7)/y(39)+params(1)*(1-params(6))*y(75);
lhs(4) = y(33);
rhs(4) = (1-params(6))*y(3)+y(44)*y(34);
lhs(5) = y(36);
rhs(5) = T(4)*T(5);
lhs(6) = y(38)*y(59)*T(8);
rhs(6) = y(37)-y(7)*(1-params(2));
lhs(7) = (1-params(2))*y(73)+params(3)*y(84)*y(66)/y(37);
rhs(7) = y(31)*y(43);
lhs(8) = y(59)*y(43);
rhs(8) = 1+T(6)*y(59)*y(43)*T(9)+T(11)*T(12);
lhs(9) = y(46);
rhs(9) = y(36)*(1-params(3))*y(54)/y(33)-y(35)+T(2)*(1-params(6))*y(76);
lhs(10) = params(11)*y(44)^params(8);
rhs(10) = y(46);
lhs(11) = 1-params(14)+params(14)*y(40)-params(19)*y(41)*(y(41)-(steady_state(11)))+T(14)*(y(71)-(steady_state(11)));
rhs(11) = 0;
lhs(12) = y(45)*(1-y(58)*params(12));
rhs(12) = y(46)*y(58)*params(12);
lhs(13) = y(54);
rhs(13) = y(40);
lhs(14) = y(36);
rhs(14) = y(32)+y(38)+y(47)+y(36)*T(15)+y(34)*T(16);
lhs(15) = y(34);
rhs(15) = 1-y(33);
lhs(16) = y(31);
rhs(16) = y(42)/y(71);
lhs(17) = y(42);
rhs(17) = T(17)*T(21)*y(60);
lhs(18) = y(47);
rhs(18) = (steady_state(6))*params(9)*y(56);
lhs(19) = y(48);
rhs(19) = log(y(36)/y(6));
lhs(20) = y(49);
rhs(20) = log(y(32)/y(2));
lhs(21) = y(50);
rhs(21) = log(T(7));
lhs(22) = y(51);
rhs(22) = y(41)-(steady_state(11));
lhs(23) = y(52);
rhs(23) = y(42)-(steady_state(12));
lhs(24) = y(53);
rhs(24) = y(34)-(steady_state(4));
lhs(25) = log(y(55));
rhs(25) = params(23)*log(y(25))+x(1);
lhs(26) = log(y(56));
rhs(26) = params(24)*log(y(26))+x(2);
lhs(27) = log(y(57));
rhs(27) = params(25)*log(y(27))+x(3);
lhs(28) = log(y(59));
rhs(28) = params(27)*log(y(29))+x(5);
lhs(29) = log(y(58));
rhs(29) = params(26)*log(y(28))+x(4);
lhs(30) = log(y(60));
rhs(30) = params(28)*log(y(30))+x(6);
end
